[gd_scene load_steps=65 format=3 uid="uid://c4n3nw1neoend"]

[ext_resource type="PackedScene" uid="uid://cwrufed6b0h7m" path="res://scenes/player/player.tscn" id="1_cpms4"]
[ext_resource type="Script" path="res://scripts/game/Game.cs" id="1_jibs2"]
[ext_resource type="PackedScene" uid="uid://4dp3owa1a7k" path="res://scenes/tiles/dirt.tscn" id="3_pqfaf"]
[ext_resource type="PackedScene" uid="uid://ek5lswt6amwj" path="res://scenes/tiles/copper.tscn" id="4_hdq5j"]
[ext_resource type="PackedScene" uid="uid://20uasolvx0af" path="res://scenes/tiles/dirt_non_drillable.tscn" id="4_m5gwg"]
[ext_resource type="PackedScene" uid="uid://d4hktp3q7gvtg" path="res://scenes/chest/gold_chest_spawn.tscn" id="5_a8x4h"]
[ext_resource type="PackedScene" uid="uid://dltcds5x4kmfi" path="res://scenes/tiles/dirt_background.tscn" id="5_br6br"]
[ext_resource type="PackedScene" uid="uid://4bb1uekiqgay" path="res://scenes/tiles/bauxite.tscn" id="5_c4ld7"]
[ext_resource type="PackedScene" uid="uid://vvbgo5qew4k3" path="res://scenes/tiles/gold.tscn" id="6_1qt14"]
[ext_resource type="Texture2D" uid="uid://qbpb1x8pgoq5" path="res://assets/sky_blue.png" id="6_qb6hb"]
[ext_resource type="PackedScene" uid="uid://bwvk0l13hnn6j" path="res://scenes/tiles/iron.tscn" id="7_p6cjd"]
[ext_resource type="PackedScene" uid="uid://dp7acb57skyy5" path="res://scenes/chest/brown_chest_spawn.tscn" id="7_ukns3"]
[ext_resource type="PackedScene" uid="uid://dee10qfr81i6a" path="res://scenes/chest/green_chest_spawn.tscn" id="8_ddeii"]
[ext_resource type="PackedScene" uid="uid://c88c2x0im82ss" path="res://scenes/tiles/silver.tscn" id="8_ggje1"]
[ext_resource type="Script" path="res://scripts/game_grid/GameGrid.cs" id="8_iy0wo"]
[ext_resource type="PackedScene" uid="uid://pb4g2nqwkegp" path="res://scenes/tiles/dirt_non_drillable_stone_cover.tscn" id="9_bld13"]
[ext_resource type="PackedScene" uid="uid://dixg40hghgngo" path="res://scenes/chest/red_chest_spawn.tscn" id="9_jnof7"]
[ext_resource type="PackedScene" uid="uid://bqs4a08snuo4k" path="res://scenes/chest/silver_chest_spawn.tscn" id="10_m2stv"]
[ext_resource type="PackedScene" uid="uid://bcomgcerauytl" path="res://scenes/tiles/diamond.tscn" id="10_vxvp4"]
[ext_resource type="Script" path="res://scripts/inventory/Inventory.cs" id="11_3hhjf"]
[ext_resource type="PackedScene" uid="uid://cl2qb4ttwe8h8" path="res://scenes/tiles/lithium.tscn" id="11_04x7u"]
[ext_resource type="PackedScene" uid="uid://fhq2pp15ko3a" path="res://scenes/tiles/coal.tscn" id="12_88ube"]
[ext_resource type="PackedScene" uid="uid://bpspmu2o75ucw" path="res://scenes/buildings/sell_station.tscn" id="12_nuqs6"]
[ext_resource type="PackedScene" uid="uid://v0qqttb0yfbx" path="res://scenes/ui/hud.tscn" id="13_6ipmk"]
[ext_resource type="PackedScene" uid="uid://2j154jrcrhfx" path="res://scenes/buildings/charge_station.tscn" id="13_s1kka"]
[ext_resource type="PackedScene" uid="uid://dbbah5rkonj5t" path="res://scenes/tiles/emerald.tscn" id="13_uq6us"]
[ext_resource type="PackedScene" uid="uid://b7prfc81k0fmb" path="res://scenes/tiles/agate.tscn" id="14_bxnkn"]
[ext_resource type="PackedScene" uid="uid://cyaoy7d01l0bf" path="res://scenes/tiles/rhodium.tscn" id="15_es65a"]
[ext_resource type="PackedScene" uid="uid://b5ggjx3ruyr4x" path="res://scenes/tiles/ruby.tscn" id="16_505n1"]
[ext_resource type="PackedScene" uid="uid://b2jye3yonsp7g" path="res://scenes/tiles/sapphire.tscn" id="17_a2kqf"]
[ext_resource type="PackedScene" uid="uid://s6scwptjutb8" path="res://scenes/tiles/uranium.tscn" id="18_f4qks"]
[ext_resource type="PackedScene" uid="uid://dawbd1hptxxk8" path="res://scenes/buildings/upgrade_station.tscn" id="18_svd0m"]
[ext_resource type="Script" path="res://scripts/enemy/EnemyManager.cs" id="19_kbbim"]
[ext_resource type="PackedScene" uid="uid://p0424hsm5m6h" path="res://scenes/ui/upgrade_menu.tscn" id="20_2vh3i"]
[ext_resource type="PackedScene" uid="uid://bsubg7ltoyh2a" path="res://scenes/enemy/spider.tscn" id="20_45y2o"]
[ext_resource type="Script" path="res://scripts/other/Sky.cs" id="20_jn15f"]
[ext_resource type="Shader" path="res://scripts/shaders/color_adjust.gdshader" id="21_h2kvx"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_4ukp1"]
scenes/1/scene = ExtResource("3_pqfaf")
scenes/2/scene = ExtResource("14_bxnkn")
scenes/3/scene = ExtResource("5_br6br")
scenes/4/scene = ExtResource("6_1qt14")
scenes/5/scene = ExtResource("7_p6cjd")
scenes/6/scene = ExtResource("8_ggje1")
scenes/7/scene = ExtResource("9_bld13")
scenes/8/scene = ExtResource("10_vxvp4")
scenes/9/scene = ExtResource("11_04x7u")
scenes/10/scene = ExtResource("4_hdq5j")
scenes/11/scene = ExtResource("5_c4ld7")
scenes/12/scene = ExtResource("5_a8x4h")
scenes/13/scene = ExtResource("4_m5gwg")
scenes/14/scene = ExtResource("7_ukns3")
scenes/15/scene = ExtResource("8_ddeii")
scenes/16/scene = ExtResource("9_jnof7")
scenes/17/scene = ExtResource("10_m2stv")
scenes/18/scene = ExtResource("12_88ube")
scenes/19/scene = ExtResource("13_uq6us")
scenes/20/scene = ExtResource("15_es65a")
scenes/21/scene = ExtResource("16_505n1")
scenes/22/scene = ExtResource("17_a2kqf")
scenes/23/scene = ExtResource("18_f4qks")

[sub_resource type="TileSet" id="TileSet_smrpq"]
tile_size = Vector2i(33, 33)
sources/1 = SubResource("TileSetScenesCollectionSource_4ukp1")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_vnfqb"]
frequency = 0.2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_5udv4"]
width = 20
height = 60
noise = SubResource("FastNoiseLite_vnfqb")

[sub_resource type="Curve" id="Curve_iuji8"]
max_value = 0.1
_data = [Vector2(0, 0.00972463), 0.0, 0.0, 0, 0, Vector2(0.0515873, 0.016037), 0.0, 0.0, 0, 0, Vector2(0.209524, 0.016037), 0.0, 0.0, 0, 0, Vector2(0.315079, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_n3847"]
max_value = 0.04
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.121429, 0.0258534), 0.0, 0.0, 0, 0, Vector2(0.365873, 0.0260263), 0.0, 0.0, 0, 0, Vector2(0.661111, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_m3w7c"]
max_value = 0.1
_data = [Vector2(0.0984127, 0), 0.0, 0.0, 0, 0, Vector2(0.257937, 0.0120593), 0.10301, 0.10301, 0, 0, Vector2(0.437302, 0.0196688), 0.0, 0.0, 0, 0, Vector2(0.642063, 0.0117135), -0.0614099, -0.0614099, 0, 0, Vector2(0.99127, 0.0047226), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_lr3tw"]
max_value = 0.1
_data = [Vector2(0, 0.000299327), 0.0, 0.0, 0, 0, Vector2(0.369841, 0.00367168), 0.0161957, 0.0161957, 0, 0, Vector2(0.494444, 0.0166423), 0.0, 0.0, 0, 0, Vector2(0.771429, 0.0147399), -0.0435813, -0.0435813, 0, 0, Vector2(0.975397, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_44xf2"]
max_value = 0.01
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.480952, 0.00254756), 0.0169796, 0.0169796, 0, 0, Vector2(0.602381, 0.00672276), 0.0103116, 0.0103116, 0, 0, Vector2(0.703175, 0.00699082), 0.0, 0.0, 0, 0, Vector2(0.815079, 0.00620394), -0.0173806, -0.0173806, 0, 0, Vector2(1, 0.00159638), 0.0, 0.0, 0, 0]
point_count = 6

[sub_resource type="Curve" id="Curve_m44rq"]
max_value = 0.04
_data = [Vector2(0.497619, 0), 0.0, 0.0, 0, 0, Vector2(0.749206, 0.00101902), 0.00682595, 0.00682595, 0, 0, Vector2(1, 0.00302514), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_mnl41"]
max_value = 0.1
_data = [Vector2(0, 0.00955169), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_guj75"]
max_value = 0.04
_data = [Vector2(0.296032, 0), 0.0, 0.0, 0, 0, Vector2(0.342857, 0.00333644), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_7y5wi"]
max_value = 0.04
_data = [Vector2(0.592857, 0), 0.0, 0.0, 0, 0, Vector2(0.66746, 0.00344021), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_pfqsx"]
max_value = 0.02
_data = [Vector2(0, 0), 0.0, 0.0709592, 0, 0, Vector2(0.05, 0.00402022), 0.00943176, 0.00943176, 0, 0, Vector2(0.263492, 0.00277504), -0.0161551, -0.0161551, 0, 0, Vector2(0.416667, 0.00140881), -0.00399495, -0.00399495, 0, 0, Vector2(1, 0.000212856), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_7x0fu"]
max_value = 0.01
_data = [Vector2(0.0714286, 0), 0.0, 0.0, 0, 0, Vector2(0.248413, 0.00253758), 0.00138667, 0.00138667, 0, 0, Vector2(0.371429, 0.00210523), -0.00357224, -0.00357224, 0, 0, Vector2(0.47619, 0.0014394), -0.00700411, -0.00700411, 0, 0, Vector2(1, 3.99128e-05), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_1qa24"]
max_value = 0.01
_data = [Vector2(0.37381, 0), 0.0, 0.0, 0, 0, Vector2(0.501587, 0.00319809), 0.0151707, 0.0151707, 0, 0, Vector2(0.623809, 0.00261008), -0.0181589, -0.0181589, 0, 0, Vector2(1, 0.000558734), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_6bc05"]
max_value = 0.01
_data = [Vector2(0.565079, 0), 0.0, 0.0, 0, 0, Vector2(0.669841, 0.00105893), 0.0167847, 0.0167847, 0, 0, Vector2(0.730952, 0.00322935), 0.0, 0.0, 0, 0, Vector2(0.886508, 0.00252029), -0.00556357, -0.00556357, 0, 0, Vector2(1, 0.00056605), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_cbgy8"]
max_value = 0.01
_data = [Vector2(0.811111, 0), 0.0, 0.0, 0, 0, Vector2(0.90873, 0.00136158), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_1ehs6"]
max_value = 0.25
_data = [Vector2(0, 0.125481), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_n5bbe"]
max_value = 0.25
_data = [Vector2(0, 0.0264007), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_uaiqh"]
_data = [Vector2(0, 0.0145565), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_wousd"]
max_value = 0.25
_data = [Vector2(0, 0.0817427), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_owoel"]
max_value = 0.25
_data = [Vector2(0, 0.0835279), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="Curve" id="Curve_wy4v2"]
max_value = 11.0
_data = [Vector2(0.145455, 0.999765), 0.0, 0.0, 0, 0, Vector2(0.264336, 3.00318), 9.33507, 9.33507, 0, 0, Vector2(0.411189, 5.76419), 21.8572, 21.8572, 0, 0, Vector2(0.511888, 11), 13.2241, 0.0, 0, 0]
point_count = 4

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3f21d"]
shader = ExtResource("21_h2kvx")
shader_parameter/gray_divide = 1.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_77tsn"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_j2r7s"]

[node name="Game" type="Node2D"]
script = ExtResource("1_jibs2")

[node name="Player" parent="." instance=ExtResource("1_cpms4")]
unique_name_in_owner = true
z_index = 1
position = Vector2(0, -22.4105)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Player"]
remote_path = NodePath("../../Camera2D")
update_rotation = false

[node name="GameGrid" type="TileMap" parent="."]
unique_name_in_owner = true
tile_set = SubResource("TileSet_smrpq")
format = 2
layer_0/z_index = -2
layer_0/tile_data = PackedInt32Array(65525, 1, 65536, 131062, 1, 65536, 131060, 1, 65536, 196598, 1, 65536, 196596, 1, 65536)
layer_1/tile_data = PackedInt32Array(65527, 1, 65536, 65528, 1, 65536, 65529, 1, 65536, 65530, 1, 65536, 65531, 1, 65536, 65532, 1, 65536, 65533, 1, 65536, 65534, 1, 65536, 65535, 1, 65536, 0, 1, 65536, 1, 1, 65536, 2, 1, 65536, 3, 1, 65536, 4, 1, 65536, 5, 1, 65536, 6, 1, 65536, 7, 1, 65536, 8, 1, 65536, 65526, 1, 65536)
layer_2/tile_data = PackedInt32Array()
script = ExtResource("8_iy0wo")
ChunkWidth = 16
ChunkSize = 3
ChunkPadding = 5
EmptyTileNoiseTexture = SubResource("NoiseTexture2D_5udv4")
drillableType = [7, 1, 6, 2, 3, 8, 9, 5, 10, 11, 12, 13, 14, 4]
toDrillableProbabilityCurve = [SubResource("Curve_iuji8"), SubResource("Curve_n3847"), SubResource("Curve_m3w7c"), SubResource("Curve_lr3tw"), SubResource("Curve_44xf2"), SubResource("Curve_m44rq"), SubResource("Curve_mnl41"), SubResource("Curve_guj75"), SubResource("Curve_7y5wi"), SubResource("Curve_pfqsx"), SubResource("Curve_7x0fu"), SubResource("Curve_1qa24"), SubResource("Curve_6bc05"), SubResource("Curve_cbgy8")]
drillableTypeDepthRanges = [Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000), Vector2i(0, 1000)]
chestType = [4, 3, 2, 0, 1]
toChestProbabilityCurve = [SubResource("Curve_1ehs6"), SubResource("Curve_n5bbe"), SubResource("Curve_uaiqh"), SubResource("Curve_wousd"), SubResource("Curve_owoel")]
chestTypedepthRanges = [Vector2i(0, 100), Vector2i(0, 100), Vector2i(0, 100), Vector2i(0, 100), Vector2i(0, 100), Vector2i(0, 100)]

[node name="EnemyManager" type="Node2D" parent="GameGrid"]
script = ExtResource("19_kbbim")
EnemyScene = ExtResource("20_45y2o")

[node name="Camera2D" type="Camera2D" parent="."]
unique_name_in_owner = true
position = Vector2(0, -22.4105)
zoom = Vector2(6, 6)
process_callback = 0
limit_left = -620
limit_right = 620
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="Sky" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("20_jn15f")
timeToGrayDivision = SubResource("Curve_wy4v2")

[node name="Sprite2D" type="Sprite2D" parent="Sky"]
z_index = -3
material = SubResource("ShaderMaterial_3f21d")
position = Vector2(-28.7011, -452.141)
scale = Vector2(4.48955, 1.10574)
texture = ExtResource("6_qb6hb")

[node name="Inventory" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("11_3hhjf")

[node name="Buildings" type="Node2D" parent="."]

[node name="SellStation" parent="Buildings" instance=ExtResource("12_nuqs6")]
unique_name_in_owner = true
position = Vector2(-0.402543, -2.03396)

[node name="ChargeStation" parent="Buildings" instance=ExtResource("13_s1kka")]
unique_name_in_owner = true
position = Vector2(-163.768, -26.7826)

[node name="UpgradeStation" parent="Buildings" instance=ExtResource("18_svd0m")]
unique_name_in_owner = true
position = Vector2(146.868, -42)

[node name="BoundaryWall" type="Node2D" parent="."]

[node name="LeftBoundary" type="StaticBody2D" parent="BoundaryWall"]
unique_name_in_owner = true
position = Vector2(-620, 2.08165e-12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BoundaryWall/LeftBoundary"]
position = Vector2(2.08165e-12, 2.08165e-12)
rotation = 1.5708
shape = SubResource("WorldBoundaryShape2D_77tsn")

[node name="RightBoundary" type="StaticBody2D" parent="BoundaryWall"]
unique_name_in_owner = true
position = Vector2(620, 2.08165e-12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BoundaryWall/RightBoundary"]
rotation = -1.5708
shape = SubResource("WorldBoundaryShape2D_j2r7s")

[node name="Projectiles" type="Node2D" parent="."]
position = Vector2(0, -83.3385)

[node name="UpgradeMenu" parent="." instance=ExtResource("20_2vh3i")]
unique_name_in_owner = true
visible = false

[node name="Items" type="Node2D" parent="."]

[node name="HUD" parent="." instance=ExtResource("13_6ipmk")]
unique_name_in_owner = true
visible = false

[node name="GameResetTimer" type="Timer" parent="."]
unique_name_in_owner = true
one_shot = true

[connection signal="timeout" from="GameResetTimer" to="." method="_on_game_reset_timer_timeout"]

[editable path="HUD"]
